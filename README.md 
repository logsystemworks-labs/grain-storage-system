# ğŸŒ¾ Sistema de GestÃ£o de Armazenagem para AgronegÃ³cio

> SoluÃ§Ã£o sob medida para cooperativas agrÃ­colas, armazenadoras e cerealistas

Sistema de gestÃ£o de silos e armazenagem de grÃ£os com controle de capacidade em tempo real, rastreabilidade e registro de movimentaÃ§Ãµes.

![Python](https://img.shields.io/badge/Python-3.12-blue)
![Flask](https://img.shields.io/badge/Flask-3.0-green)
![PostgreSQL](https://img.shields.io/badge/PostgreSQL-16-blue)
![License](https://img.shields.io/badge/License-MIT-yellow)

---

## ğŸ¯ Problema que Resolve

Cooperativas agrÃ­colas e armazenadoras enfrentam desafios crÃ­ticos:

- âŒ Controle manual de capacidade de silos (Excel/papel)
- âŒ Falta de visibilidade em tempo real
- âŒ Filas de atÃ© 40h de caminhÃµes na safra
- âŒ Perdas por mÃ¡ alocaÃ§Ã£o de espaÃ§o
- âŒ Dificuldade de rastreabilidade de origem

**Resultado:** PrejuÃ­zos de milhares de reais por safra.

---

## âœ¨ SoluÃ§Ã£o

Sistema que automatiza e otimiza a gestÃ£o de armazenagem:

### **Funcionalidades Principais:**

âœ… **Controle de Capacidade em Tempo Real**
- Dashboard com % de ocupaÃ§Ã£o de cada silo
- Alertas automÃ¡ticos (capacidade crÃ­tica)
- VisualizaÃ§Ã£o clara e intuitiva

âœ… **Registro de MovimentaÃ§Ãµes**
- Entrada de grÃ£os (origem, quantidade, caminhÃ£o)
- SaÃ­da de grÃ£os (destino, quantidade)
- AtualizaÃ§Ã£o automÃ¡tica de ocupaÃ§Ã£o

âœ… **Rastreabilidade Completa**
- Origem do grÃ£o (fazenda, lote)
- HistÃ³rico completo de movimentaÃ§Ãµes
- RelatÃ³rios por perÃ­odo/silo

âœ… **ValidaÃ§Ãµes Inteligentes**
- Impede exceder capacidade
- Impede retirar mais do que hÃ¡ em estoque
- Valida tipo de produto por silo

---

## ğŸ› ï¸ Stack TÃ©cnica

**Backend:**
- Python 3.12
- Flask 3.0
- SQLAlchemy (ORM)
- PostgreSQL 16

**Arquitetura:**
- RESTful API
- SeparaÃ§Ã£o de responsabilidades (Models â†’ Services â†’ Routes)
- ValidaÃ§Ãµes de negÃ³cio centralizadas

---

## ğŸ“Š Modelo de Dados

### **Silos (Storage)**
```
- id
- name (ex: "Silo A - Milho")
- max_capacity (toneladas)
- current_occupation (toneladas)
- product (Milho, Soja, Trigo, etc)
- localization (lat/lng)
```

### **MovimentaÃ§Ãµes (Movements)**
```
- id
- silo_id (FK)
- type (ENTRADA/SAIDA)
- amount (toneladas)
- product
- origin / destination
- truck_plate
- driver
- responsible
- timestamp
```

---

## ğŸš€ Endpoints da API

### **Silos**

| MÃ©todo | Endpoint | DescriÃ§Ã£o |
|--------|----------|-----------|
| GET | `/api/silos/` | Lista todos os silos |
| GET | `/api/silos/{id}` | Busca silo por ID |
| POST | `/api/silos/` | Cria novo silo |
| PUT | `/api/silos/{id}` | Atualiza silo |
| GET | `/api/silos/dashboard` | Dashboard geral |

### **MovimentaÃ§Ãµes**

| MÃ©todo | Endpoint | DescriÃ§Ã£o |
|--------|----------|-----------|
| GET | `/api/movements/` | Lista movimentaÃ§Ãµes |
| POST | `/api/movements/` | Registra entrada/saÃ­da |
| GET | `/api/movements/statistics/{id}` | EstatÃ­sticas de um silo |

**Query params:**
- `?silo_id=1` - Filtrar por silo
- `?types=ENTRADA` - Filtrar por tipo
- `?limit=50` - Limitar resultados

---

## ğŸ’» InstalaÃ§Ã£o e Uso

### **PrÃ©-requisitos:**

- Python 3.12+
- PostgreSQL 16+
- pip

### **1. Clone o repositÃ³rio:**
```bash
git clone git@github.com:logsystemworks/grain-storage-system.git
cd grain-storage-system
```

### **2. Crie ambiente virtual:**
```bash
python -m venv .venv
source .venv/bin/activate  # Linux/Mac
# ou
.venv\Scripts\activate  # Windows
```

### **3. Instale dependÃªncias:**
```bash
pip install -r requirements.txt
```

### **4. Configure banco de dados:**
```bash
# Crie o banco
createdb silos_db

# Configure conexÃ£o em app/__init__.py:
SQLALCHEMY_DATABASE_URI = "postgresql://user:pass@localhost:5432/silos_db"
```

### **5. Inicialize o banco:**
```bash
flask db init
flask db migrate -m "Initial migration"
flask db upgrade
```

### **6. Execute:**
```bash
python run.py
```

API rodando em: `http://localhost:5000`

---

## ğŸ“– Exemplos de Uso

### **Criar um silo:**
```bash
curl -X POST http://localhost:5000/api/silos/ \
  -H "Content-Type: application/json" \
  -d '{
    "name": "Silo A - Milho",
    "max_capacity": 250,
    "current_occupation": 100,
    "product": "Milho",
    "local_lat": -15.7801,
    "local_lng": -47.9292
  }'
```

### **Registrar entrada de grÃ£os:**
```bash
curl -X POST http://localhost:5000/api/movements/ \
  -H "Content-Type: application/json" \
  -d '{
    "silo_id": 1,
    "types": "ENTRADA",
    "amount": 30,
    "product": "Milho",
    "origin": "Fazenda Santa Rita",
    "truck_plate": "ABC-1234",
    "driver": "JoÃ£o Silva",
    "responsible": "Maria Operadora"
  }'
```

**Resultado:** OcupaÃ§Ã£o do silo atualizada automaticamente (100 â†’ 130 toneladas)

### **Ver dashboard:**
```bash
curl http://localhost:5000/api/silos/dashboard
```

**Retorna:**
```json
{
  "summary": {
    "total_silos": 5,
    "total_capacity": 1200.0,
    "total_occupation": 850.0,
    "general_percentage": 70.83,
    "critical_silos": 1,
    "ok_silos": 3
  },
  "silos": [...]
}
```

---

## ğŸ—ï¸ Arquitetura
```
app/
â”œâ”€â”€ models/              # Modelos de dados (SQLAlchemy)
â”‚   â”œâ”€â”€ storage_silo.py
â”‚   â””â”€â”€ movements.py
â”‚
â”œâ”€â”€ services/            # Regras de negÃ³cio
â”‚   â”œâ”€â”€ silos_services.py
â”‚   â””â”€â”€ movements_services.py
â”‚
â”œâ”€â”€ routes/              # Endpoints (Blueprints)
â”‚   â”œâ”€â”€ silos_bp.py
â”‚   â””â”€â”€ moves_bp.py
â”‚
â””â”€â”€ db/
    â””â”€â”€ extensions.py    # ConfiguraÃ§Ã£o DB
```

**Fluxo:**
```
Request â†’ Route â†’ Service â†’ Model â†’ Database
                     â†“
                 ValidaÃ§Ãµes
                 CÃ¡lculos
                 Regras
```

---

## ğŸ¯ Casos de Uso

### **Cooperativa AgrÃ­cola Regional**

**Antes:**
- Controle manual em Excel
- Filas de 8h de caminhÃµes na safra
- 3% de perda por mÃ¡ alocaÃ§Ã£o
- Zero rastreabilidade

**Depois (com o sistema):**
- Controle em tempo real
- Filas reduzidas em 60%
- Perdas < 0.5%
- Rastreabilidade completa

**ROI:** Sistema pago em 2 meses de safra

---

## ğŸ§ª Testes
```bash
# Execute testes unitÃ¡rios
pytest

# Com cobertura
pytest --cov=app tests/
```

---

## ğŸš€ Deploy

### **Backend (Railway/Render):**

1. Crie conta no [Railway](https://railway.app)
2. Conecte repositÃ³rio GitHub
3. Adicione PostgreSQL
4. Configure variÃ¡veis de ambiente
5. Deploy automÃ¡tico

### **VariÃ¡veis de Ambiente:**
```env
DATABASE_URL=postgresql://...
FLASK_ENV=production
SECRET_KEY=sua-chave-secreta
```

---

## ğŸ“ˆ Roadmap

### **Fase 1 - MVP** âœ…
- [x] CRUD de silos
- [x] Registro de movimentaÃ§Ãµes
- [x] Dashboard bÃ¡sico
- [x] ValidaÃ§Ãµes

### **Fase 2 - Em Desenvolvimento** ğŸš§
- [ ] Frontend React
- [ ] AutenticaÃ§Ã£o/autorizaÃ§Ã£o
- [ ] RelatÃ³rios em PDF
- [ ] GrÃ¡ficos de evoluÃ§Ã£o

### **Fase 3 - Futuro** ğŸ“‹
- [ ] App mobile
- [ ] IntegraÃ§Ã£o com balanÃ§as (IoT)
- [ ] IA para previsÃ£o de demanda
- [ ] Multi-tenancy (SaaS)

---

## ğŸ¤ Contribuindo

ContribuiÃ§Ãµes sÃ£o bem-vindas!

1. Fork o projeto
2. Crie uma branch (`git checkout -b feature/nova-funcionalidade`)
3. Commit suas mudanÃ§as (`git commit -m 'Adiciona nova funcionalidade'`)
4. Push para a branch (`git push origin feature/nova-funcionalidade`)
5. Abra um Pull Request

---

## ğŸ“ LicenÃ§a

Este projeto estÃ¡ sob a licenÃ§a MIT. Veja o arquivo [LICENSE](LICENSE) para mais detalhes.

---

## ğŸ‘¨â€ğŸ’» Sobre

Desenvolvido por **Log System Works**

**EspecializaÃ§Ã£o:** SoluÃ§Ãµes sob medida em logÃ­stica para o agronegÃ³cio brasileiro

ğŸ“§ Email: contato@logsystemworks.com
ğŸŒ Site: [logsystemworks.com](https://logsystemworks.com)
ğŸ“ LocalizaÃ§Ã£o: BrasÃ­lia, DF

---

## ğŸ’¡ Por que este projeto?

O agronegÃ³cio brasileiro Ã© responsÃ¡vel por 25% do PIB, mas enfrenta desafios logÃ­sticos crÃ­ticos:

- 63% da produÃ§Ã£o tem capacidade de armazenagem (37% nÃ£o tem)
- Em MT, apenas 49,9% consegue ser armazenado
- 70% do custo logÃ­stico de exportaÃ§Ã£o = transporte interno
- Filas de atÃ© 40h de caminhÃµes no pico da safra

**Este sistema resolve problemas reais que custam milhÃµes Ã s cooperativas.**

---

## ğŸ¥ Demo

[Em breve - VÃ­deo demonstrativo]

---

## ğŸ“ Contato

Interessado em implementar este sistema na sua cooperativa?

**Entre em contato:**
- ğŸ“§ contato@logsystemworks.com
- ğŸ’¬ WhatsApp: [seu nÃºmero]
- ğŸ”— LinkedIn: [seu LinkedIn]

---

**â­ Se este projeto foi Ãºtil, deixe uma estrela no GitHub!**

---

*"Transformando a logÃ­stica do agronegÃ³cio brasileiro com tecnologia"* ğŸŒ¾ğŸš€
```

---

## ğŸ“¸ ADICIONA SCREENSHOTS (depois):

Cria pasta `docs/images/` e adiciona:
```
docs/images/
â”œâ”€â”€ dashboard.png
â”œâ”€â”€ silo-list.png
â”œâ”€â”€ movement-form.png
â””â”€â”€ architecture.png

## ğŸ“¸ Screenshots

### Dashboard
![Dashboard](docs/images/dashboard.png)

### Lista de Silos
![Silos](docs/images/silo-list.png)



MIT License

Copyright (c) 2025 Log System Works

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.